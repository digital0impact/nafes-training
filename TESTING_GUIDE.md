# دليل اختبار النظام

## خطوات اختبار النظام الكامل

### 1. اختبار إنشاء حساب جديد

1. افتحي المتصفح على `http://localhost:3000`
2. اذهبي إلى `/auth/signup`
3. أدخلي البيانات:
   - الاسم: "معلمة تجريبية"
   - البريد الإلكتروني: "test@example.com"
   - كلمة المرور: "123456" (6 أحرف على الأقل)
   - تأكيد كلمة المرور: "123456"
4. اضغطي "إنشاء الحساب"
5. **النتيجة المتوقعة**: يتم توجيهك إلى صفحة تسجيل الدخول مع رسالة نجاح

### 2. اختبار تسجيل الدخول

1. في صفحة تسجيل الدخول `/auth/signin`
2. أدخلي:
   - البريد الإلكتروني: "test@example.com"
   - كلمة المرور: "123456"
3. اضغطي "تسجيل الدخول"
4. **النتيجة المتوقعة**: يتم توجيهك إلى `/teacher` وترين لوحة المعلمة

### 3. اختبار حماية الصفحات

1. بدون تسجيل الدخول، حاولي الوصول إلى `/teacher`
2. **النتيجة المتوقعة**: يتم توجيهك تلقائياً إلى صفحة تسجيل الدخول

### 4. اختبار إنشاء نموذج اختبار

1. بعد تسجيل الدخول، اذهبي إلى `/teacher/tests/create`
2. املئي النموذج:
   - عنوان الاختبار: "اختبار تجريبي"
   - الفترة: "الفترة الأولى"
   - المهارة: اختر من القائمة
   - المدة: "20"
   - اختر نواتج التعلم
   - أضيفي أسئلة من بنك الأسئلة
3. اضغطي "إنشاء الاختبار"
4. **النتيجة المتوقعة**: يتم حفظ النموذج ويتم توجيهك إلى صفحة إدارة النماذج

### 5. اختبار عرض النماذج

1. اذهبي إلى `/teacher/tests`
2. **النتيجة المتوقعة**: ترين النموذج الذي أنشأته للتو

### 6. اختبار حذف نموذج

1. في صفحة `/teacher/tests`
2. اضغطي زر الحذف على أي نموذج
3. أكدي الحذف
4. **النتيجة المتوقعة**: يتم حذف النموذج من القائمة

### 7. اختبار إنشاء نشاط

1. اذهبي إلى `/teacher/activities/create`
2. املئي النموذج:
   - العنوان: "نشاط تجريبي"
   - المدة: "10"
   - المهارة: اختر من القائمة
   - نوع النشاط: اختر (Quiz, Drag & Drop, إلخ)
   - املئي محتوى النشاط
3. اضغطي "حفظ النشاط"
4. **النتيجة المتوقعة**: يتم حفظ النشاط ويتم توجيهك إلى صفحة إدارة الأنشطة

### 8. اختبار عرض الأنشطة

1. اذهبي إلى `/teacher/activities`
2. **النتيجة المتوقعة**: ترين النشاط الذي أنشأته للتو

### 9. اختبار فصل البيانات بين المعلمين

1. أنشئي حساب معلم ثانٍ:
   - البريد: "teacher2@example.com"
   - كلمة المرور: "123456"
2. سجلي دخول بالحساب الثاني
3. اذهبي إلى `/teacher/tests`
4. **النتيجة المتوقعة**: لا ترين النماذج التي أنشأها المعلم الأول
5. اذهبي إلى `/teacher/activities`
6. **النتيجة المتوقعة**: لا ترين الأنشطة التي أنشأها المعلم الأول

### 10. اختبار تسجيل الخروج

1. اضغطي زر "تسجيل الخروج" في أعلى الصفحة
2. **النتيجة المتوقعة**: يتم تسجيل الخروج وتوجيهك إلى الصفحة الرئيسية

## اختبار APIs مباشرة

يمكنك أيضاً اختبار APIs مباشرة باستخدام curl أو Postman:

### اختبار API الأنشطة (يتطلب تسجيل الدخول أولاً)

```bash
# الحصول على الأنشطة
curl http://localhost:3000/api/activities

# إنشاء نشاط جديد
curl -X POST http://localhost:3000/api/activities \
  -H "Content-Type: application/json" \
  -d '{"title":"نشاط تجريبي","duration":"10","skill":"علوم الحياة"}'
```

### اختبار API النماذج (يتطلب تسجيل الدخول أولاً)

```bash
# الحصول على النماذج
curl http://localhost:3000/api/test-models

# إنشاء نموذج جديد
curl -X POST http://localhost:3000/api/test-models \
  -H "Content-Type: application/json" \
  -d '{"title":"نموذج تجريبي","period":"الفترة الأولى","skill":"علوم الحياة","duration":20}'
```

## ملاحظات مهمة

1. **قاعدة البيانات**: البيانات محفوظة في `prisma/dev.db`
2. **كلمات المرور**: مشفرة باستخدام bcrypt
3. **الجلسات**: تستخدم JWT tokens
4. **الحماية**: جميع صفحات `/teacher/*` و APIs محمية

## المشاكل المحتملة وحلولها

### مشكلة: "غير مصرح" عند الوصول لـ API
**الحل**: تأكدي من تسجيل الدخول أولاً

### مشكلة: لا تظهر البيانات بعد الإنشاء
**الحل**: تأكدي من أنك تستخدمين نفس حساب المعلم الذي أنشأ البيانات

### مشكلة: خطأ في قاعدة البيانات
**الحل**: قومي بتشغيل:
```bash
npx prisma migrate reset
npx prisma generate
```










